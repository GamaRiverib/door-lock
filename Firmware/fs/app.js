!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=1)}([function(t,e,i){t.exports=function(){function t(t){var e=this._getSettings(t);if(this.notFoundHandler=e.page404,this.mode=window.history&&window.history.pushState?e.mode:"hash",this.root="/"===e.root?"/":"/"+this._trimSlashes(e.root)+"/",this.beforeHook=e.hooks.before,this.securityHook=e.hooks.secure,this.routes=[],e.routes&&e.routes.length>0){var i=this;e.routes.forEach(function(t){i.add(t.rule,t.handler,t.options)})}return this._pageState=null,this._currentPage=null,this._skipCheck=!1,this._action=null,"hash"===this.mode&&(this._historyStack=[],this._historyIdx=0,this._historyState="add"),this}return t.Page=function(t,e,i,n,r){this.uri=t||"",this.query=e||{},this.params=i||[],this.state=n||null,this.options=r||{}},t.prototype._getSettings=function(t){var e={},i={routes:[],mode:"history",root:"/",hooks:{before:function(){},secure:function(){return!0}},page404:function(t){console.error({page:t,message:"404. Page not found"})}};return t=t||{},["routes","mode","root","page404"].forEach(function(n){e[n]=t[n]||i[n]}),e.hooks=Object.assign({},i.hooks,t.hooks||{}),e},t.prototype._getHistoryFragment=function(){var t=decodeURI(window.location.pathname);return"/"!==this.root&&(t=t.replace(this.root,"")),this._trimSlashes(t)},t.prototype._getHashFragment=function(){var t=window.location.hash.substr(1).replace(/(\?.*)$/,"");return this._trimSlashes(t)},t.prototype._getFragment=function(){return"history"===this.mode?this._getHistoryFragment():this._getHashFragment()},t.prototype._trimSlashes=function(t){return"string"!=typeof t?"":t.toString().replace(/\/$/,"").replace(/^\//,"")},t.prototype._page404=function(e){this._currentPage=new t.Page(e),this.notFoundHandler(e)},t.prototype._parseRouteRule=function(t){if("string"!=typeof t)return t;var e=this._trimSlashes(t).replace(/([\\\/\-\_\.])/g,"\\$1").replace(/\{[a-zA-Z]+\}/g,"(:any)").replace(/\:any/g,"[\\w\\-\\_\\.]+").replace(/\:word/g,"[a-zA-Z]+").replace(/\:num/g,"\\d+");return new RegExp("^"+e+"$","i")},t.prototype._parseQuery=function(t){var e={};return"string"!=typeof t?e:("?"===t[0]&&(t=t.substr(1)),this._queryString=t,t.split("&").forEach(function(t){var i=t.split("=");""!==i[0]&&(void 0===i[1]&&(i[1]=!0),e[decodeURIComponent(i[0])]=i[1])}),e)},t.prototype._getHistoryQuery=function(){return this._parseQuery(window.location.search)},t.prototype._getHashQuery=function(){var t=window.location.hash.indexOf("?"),e=-1!==t?window.location.hash.substr(t):"";return this._parseQuery(e)},t.prototype._getQuery=function(){return"history"===this.mode?this._getHistoryQuery():this._getHashQuery()},t.prototype.add=function(t,e,i){return this.routes.push({rule:this._parseRouteRule(t),handler:e,options:i}),this},t.prototype.remove=function(t){var e=this;return"string"==typeof t&&(t=this._parseRouteRule(t).toString()),this.routes.some(function(i,n){return(i.handler===t||i.rule.toString()===t)&&(e.routes.splice(n,1),!0)}),this},t.prototype.reset=function(){return this.routes=[],this.mode=null,this.root="/",this._pageState={},this.removeUriListener(),this},t.prototype._pushHistory=function(){var t=this._getFragment();"hash"===this.mode&&("add"===this._historyState&&(this._historyIdx!==this._historyStack.length-1&&this._historyStack.splice(this._historyIdx+1),this._historyStack.push({path:t,state:this._pageState}),this._historyIdx=this._historyStack.length-1),this._historyState="add")},t.prototype._unloadCallback=function(t){var e;return this._skipCheck?!t||Promise.resolve(!0):this._currentPage&&this._currentPage.options&&this._currentPage.options.unloadCb?(e=this._currentPage.options.unloadCb(this._currentPage,t),!t||e instanceof Promise?e:e?Promise.resolve(e):Promise.reject(e)):!t||Promise.resolve(!0)},t.prototype._findRoute=function(){var e=this,i=this._getFragment();return this.routes.some(function(n){var r=i.match(n.rule);if(r){r.shift();var s=e._getQuery(),o=new t.Page(i,s,r,e._pageState,n.options);return!!e.securityHook(o)&&(e._currentPage=o,e._skipCheck?(e._skipCheck=!1,!0):(e.beforeHook(o),n.handler.apply(o,r),e._pageState=null,window.onbeforeunload=function(t){if(!e._unloadCallback(!1))return t.returnValue=!0,!0},!0))}return!1})},t.prototype._treatAsync=function(){var t;(t=this._currentPage.options.unloadCb(this._currentPage,!0))instanceof Promise||(t=t?Promise.resolve(t):Promise.reject(t)),t.then(this._processUri.bind(this)).catch(this._resetState.bind(this))},t.prototype._resetState=function(){this._skipCheck=!0,this.navigateTo(this._current,this._currentPage.state,!0)},t.prototype._processUri=function(){var t=this._getFragment();this._current=t,this._pushHistory(),this._findRoute.call(this)||this._page404(t)},t.prototype.check=function(){return this._skipCheck?this:(this._currentPage&&this._currentPage.options&&this._currentPage.options.unloadCb?this._treatAsync():this._processUri(),this)},t.prototype.addUriListener=function(){return"history"===this.mode?window.onpopstate=this.check.bind(this):window.onhashchange=this.check.bind(this),this},t.prototype.removeUriListener=function(){return window.onpopstate=null,window.onhashchange=null,this},t.prototype.redirectTo=function(t,e,i){return t=this._trimSlashes(t)||"",this._pageState=e||null,this._skipCheck=!!i,"history"===this.mode?(history.replaceState(e,null,this.root+this._trimSlashes(t)),this.check()):(this._historyIdx--,window.location.hash=t,this)},t.prototype.navigateTo=function(t,e,i){return t=this._trimSlashes(t)||"",this._pageState=e||null,this._skipCheck=!!i,"history"===this.mode?(history.pushState(e,null,this.root+this._trimSlashes(t)),this.check()):(window.location.hash=t,this)},t.prototype.refresh=function(){if(!this._currentPage)return this;var t=this._currentPage.uri+"?"+this._queryString;return this.navigateTo(t,this._currentPage.state)},t.prototype.back=function(){return"history"===this.mode?(window.history.back(),this):this.go(this._historyIdx-1)},t.prototype.forward=function(){return"history"===this.mode?(window.history.forward(),this):this.go(this._historyIdx+1)},t.prototype.go=function(t){if("history"===this.mode)return window.history.go(t),this;var e=this._historyStack[t];return e?(this._historyIdx=t,this._historyState="hold",this.navigateTo(e.path,e.state)):this},t}()},function(t,e,i){t.exports=i(2)},function(t,e,i){"use strict";i.r(e);class n{constructor(t){this.server=t}request(t,e,i){let n=e||"GET";return new Promise((e,r)=>{let s=new XMLHttpRequest;function o(t){r(t)}s.open(n,t,!0),s.onreadystatechange=function(){if(4===this.readyState){if(this.status>=200&&this.status<400)return e(JSON.parse(this.response));r({status:this.status})}},s.ontimeout=o,s.onerror=o,s.send(i||"")})}rpc(t,e){let i=`${this.server}/${t}`;return e?this.request(i,"POST",e):this.request(i)}}class r{constructor(t){this.rpcMgr=new n(t)}isConnected(){return this.rpcMgr.rpc("RPC.Ping")}sysInfo(){return this.rpcMgr.rpc("Sys.GetInfo")}reboot(){return this.rpcMgr.rpc("Sys.Reboot")}getConfig(){return this.rpcMgr.rpc("Config.Get")}saveConfig(t,e){return new Promise((i,n)=>{let r=JSON.stringify({config:t});this.rpcMgr.rpc("Config.Set",r).then(()=>{let t=JSON.stringify({reboot:e||!0});return this.rpcMgr.rpc("Config.Save",t).then(i).catch(n)}).catch(n)})}readGpio(t){return this.rpcMgr.rpc("GPIO.Read",JSON.stringify({pin:t}))}writeGpio(t,e){return this.rpcMgr.rpc("GPIO.Write",JSON.stringify({pin:t,value:e}))}}var s=i(0);function o(t,e,i,n){t.el.querySelectorAll(`[${e}]`).forEach(r=>{let s=r.getAttribute(e);r.removeAttribute(e),t[`_${s}`]=t[s]||"",n&&r.addEventListener(n,()=>{t[`_${s}`]=r[i]}),Object.defineProperty(t,s,{get:()=>t[`_${s}`],set:e=>{t[`_${s}`]=e,r[i]=e}}),r[i]=t[s]})}function a(t){o(t,"m-b","innerHTML"),o(t,"m-v","value","keyup")}function c(t){t.el.querySelectorAll("[m-c]").forEach(e=>{let i=e.getAttribute("m-c");e.removeAttribute("m-c"),e.addEventListener("click",e=>{e.preventDefault(),t[i].call(t,e)})})}function l(t){t.el.querySelectorAll("[m-f]").forEach(e=>{let i=JSON.parse(e.getAttribute("m-f").replace(/\'/g,'"')),n=t[i.items],r=document.createElement("DIV");n.forEach(t=>{let i=document.createElement(e.tagName),n=e.innerHTML.toString(),s=e.innerHTML.match(/{{\s*[\w\.]+\s*}}/g).map(function(t){return t.match(/[\w\.]+/)[0]});for(let e=0;e<s.length;e++)if(s[e].startsWith("item.")){let i=s[e].substr(5);n=n.replace(s[e],t[i])}n=n.replace(/{{/g,"").replace(/}}/g,"");for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];if(r.value&&r.value.trim().startsWith("item.")){let e=r.value.trim().substr(5);"string"==typeof t[e]?i.setAttribute(r.name,t[e]):i.setAttribute(r.name,e)}else"m-f"!=r.name&&i.setAttribute(r.name,r.value)}i.innerHTML=n,r.appendChild(i)}),e.parentNode.replaceChild(r,e),e.removeAttribute("m-f")})}function h(t,e){for(;t.firstChild;)t.removeChild(t.firstChild);var i;e.render(t),l(e),c(e),a(e),(i=e).el.querySelectorAll("a").forEach(t=>{!t.hasAttribute("m-c")&&t.hash&&t.addEventListener("click",e=>{e.preventDefault(),window.router.navigateTo(t.hash,i)})})}function u(t){}function d(t){var e;Object.defineProperty(this,"el",{enumerable:!0,get:()=>e,set:void 0}),this.render=function(i){e||((e=document.createElement("DIV")).innerHTML=t.call(this)),i&&i.appendChild(e)}}class p{constructor(t){this.el=document.querySelector(t);let e={before:u};window.router=new s({mode:"hash",hooks:e,page404:t=>console.log(t)}),window.router.addUriListener()}add(t,e,i){let n=this;return window.router.add(t,function(...t){let r;if("function"==typeof e)r=e.call(t);else{if("object"!=typeof e||!e.render)throw new Error("Invalid view component");r=e}r.render(),r.components&&r.components.forEach(t=>(function(t,e){t.el.querySelectorAll(e.selector).forEach(t=>{e.render(t),l(e),c(e),a(e)})})(r,t)),i&&"string"==typeof i&&(i=document.querySelector(i)),h(i||n.el,r)}),this}}var f=null;function m(){if(null!==f)return f;d.call(this,function(){return'\n            <form>\n                <h2>Device</h2>\n                <hr/>\n                <label for="deviceId">ID</label>\n                <input type="text" id="deviceId" minlength="1" maxlength="50" m-v="deviceId" />\n                <label for="buttonPin">Button PIN</label>\n                <input type="number" id="buttonPin" min="0" max="16" m-v="buttonPin" />\n                <label for="relayPin">Relay PIN</label>\n                <input type="number" id="relayPin" min="0" max="16" m-v="relayPin" />\n                <label for="magneticPin">Magnetic PIN</label>\n                <input type="number" id="magneticPin" min="0" max="16" m-v="magneticPin" />\n                <h2>WiFi</h2>\n                <hr />\n                <label for="ssid">SSID</label>\n                <input type="text" id="ssid" minlength="1" maxlength="100" m-v="ssid" />\n                <label for="pass">Password</label>\n                <input type="password" id="pass" maxlength="50" m-v="pass" />\n\n                <button>Save</button>\n            </form>\n        '});var t,e=[],i={};return Object.defineProperty(this,"selector",{enumerable:!0,writable:!1,value:"settings-view"}),Object.defineProperty(this,"actions",{enumerable:!0,get:()=>void 0,set:void 0}),f=function(){return function(){window.device.getConfig().then(t=>{t&&(t.device&&(this.deviceId=t.device.id,i.deviceId=t.device.id),t.pinout&&(this.buttonPin=t.pinout.button,this.relayPin=t.pinout.relay,this.magneticPin=t.pinout.magnetic,i.buttonPin=t.pinout.button,i.relayPin=t.pinout.relay,i.magneticPin=t.pinout.magnetic),t.wifi&&t.wifi.sta&&(this.ssid=t.wifi.sta.ssid,this.pass=t.wifi.sta.pass,i.ssid=t.wifi.sta.ssid,i.pass=t.wifi.sta.pass))}).catch(t=>console.log(t))}.call(this),this.render(),this.el.querySelectorAll("input").forEach(n=>n.addEventListener("keyup",function(n){let r=n.target.value,s=n.target.id;if(i[s]==r){let t=e.indexOf(s);t>=0&&e.splice(t,1)}else e.push(s);e.length>0?t.removeAttribute("disabled"):t.setAttribute("disabled",!0)}.bind(this))),(t=this.el.querySelector("button")).setAttribute("disabled",!0),t.onclick=function(i){i.preventDefault(),t.setAttribute("disabled",!0);let n={};e.forEach(t=>{"deviceId"==t&&(n.device||(n.device={}),n.device.id=this.deviceId),"buttonPin"==t&&(n.pinout||(n.pinout={}),n.pinout.button=parseInt(this.buttonPin)),"relayPin"==t&&(n.pinout||(n.pinout={}),n.pinout.relay=parseInt(this.relayPin)),"magneticPin"==t&&(n.pinout||(n.pinout={}),n.pinout.magnetic=parseInt(this.magneticPin)),"ssid"==t&&(n.wifi||(n.wifi={}),n.wifi.sta||(n.wifi.sta={}),n.wifi.sta.ssid=this.ssid),"pass"==t&&(n.wifi||(n.wifi={}),n.wifi.sta||(n.wifi.sta={}),n.wifi.sta.pass=this.pass)}),window.device.saveConfig(n),setTimeout(()=>location.reload(),3e3)}.bind(this),this}.call(this)}var v=null;function g(){if(null!==v)return v;var t=[],e=null,i=null,n=null;return d.call(this,function(){return'\n            <div class="container">\n                <div class="status">\n                    <i class="fas fa-door-closed"></i>\n                </div>\n                <section class="main">\n                    <div class="switch">\n                        <input type="checkbox" />\n                        <label>\n                            <i class="fas fa-lock"></i>\n                        </label>\n                    </div>\n                </section>\n            </div>\n        '}),Object.defineProperty(this,"selector",{enumerable:!0,writable:!1,value:"home-view"}),Object.defineProperty(this,"actions",{enumerable:!0,get:()=>t,set:void 0}),v=function(){this.render();let t=this,r=!1,s=this.el.querySelector(".switch");return s.onclick=function(){if(e&&!r){r=!0;let t=s.querySelector("input");window.device.writeGpio(e,0),t.checked=!0,setTimeout(()=>{window.device.writeGpio(e,1),t.checked=!1,r=!1},500)}},window.device.getConfig().then(r=>{r&&r.pinout&&(e=r.pinout.relay||null,i=r.pinout.magnetic||null,function(){let t=this;!n&&i&&(n=setInterval(()=>{window.device.readGpio(i).then(e=>{if(e&&e.value>=0){let i=t.el.querySelector(".status i");if(i){let t=this.el.querySelector(".switch"),n=t.querySelector("i");0===e.value?(i.classList.remove("fa-door-closed"),i.classList.add("fa-door-open"),n.classList.remove("fa-lock"),n.classList.add("fa-unlock")):(i.classList.remove("fa-door-open"),i.classList.add("fa-door-closed"),n.classList.remove("fa-unlock"),n.classList.add("fa-lock"))}}}).catch(t=>console.log(t))},2e3))}.call(t))}).catch(t=>console.log(t)),this}.call(this)}function y(){var t,e;return this._setActiveLink=function(t){if(this.el&&t){let e=this.el.querySelectorAll(".link");for(let i=0;i<e.length;i++){let n=e[i];n.hash===t.path?n.classList.add(this.activeClass):n.classList.remove(this.activeClass)}}},this._findLink=function(e){let i=-1;return t.forEach((t,n)=>{if(t.path===e)return i=n}),i>=0?t[i]:null},Object.defineProperty(this,"activeLink",{enumerable:!0,get:()=>e,set:function(t){"string"==typeof t&&(t=this._findLink(t)),e=t,this._setActiveLink.call(this,t)}}),Object.defineProperty(this,"links",{enumerable:!0,get:function(){return t},set:void 0}),this.setLinks=function(e){Array.isArray(e)&&(t=e)},this.addLink=function(e,i){return t||(t=[]),t.push({path:e,text:i}),this},this.removeLink=function(e){t.forEach((t,i,n)=>{if(t.path===e)return n.splice(i,1)})},this}function b(){var t,e,i=[];return d.call(this,function(){return'\n            <div class="topnav">\n                <a href="#" class="menu-icon" m-c="openMenu">\n                    <div class="bar1"></div>\n                    <div class="bar2"></div>\n                    <div class="bar3"></div>\n                </a>\n                <a class="topnav-title"></a>\n                <a class="link" m-f="{ \'items\': \'links\' }" href="item.path">{{ item.text }}</a>\n                <div class="topnav-right">\n                    <div class="dropdown">\n                        <button class="dropbtn"> \n                            <i class="dots dropbtn"></i>\n                        </button>\n                        <div class="dropdown-content">\n                            <a class="action" m-f="{ \'items\': \'actions\' }" m-c="item.name">{{ item.text }}</a>\n                        </div>\n                    </div> \n                </div>\n            </div>\n        '}),y.call(this),Object.defineProperty(this,"selector",{enumerable:!0,writable:!1,value:"topbar"}),Object.defineProperty(this,"title",{enumerable:!0,get:function(){return e.innerHTML},set:function(t){e.innerHTML=t}}),Object.defineProperty(this,"actions",{enumerable:!0,get:function(){return i},set:void 0}),Object.defineProperty(this,"activeClass",{enumerable:!0,get:function(){return"active"},set:void 0}),this.setActions=function(t){if(Array.isArray(t)){let e=this;i=[],t.forEach(t=>e.addAction(t.text,t.name,t.handler))}},this.updateActions=function(e){if(Array.isArray(e)){let n=this;for(i.forEach(t=>delete n[t.name]),i=[];t.firstChild;)t.removeChild(t.firstChild);e.forEach(t=>n.addAction(t.text,t.name,t.handler)),i.forEach(e=>{let i=document.createElement("a");i.classList.add("action"),i.addEventListener("click",n[e.name]),i.innerText=e.text,t.appendChild(i)})}},this.addAction=function(t,e,n){return i.push({text:t,name:e}),this[e]=n,this},this.removeAction=function(t){let e=this;i.forEach((i,n,r)=>{if(i.name===t)return delete e[t],r.splice(n,1)})},this.openMenu=function(){this.el.dispatchEvent(new CustomEvent("open"))},this.toggle=function(){t.classList.toggle("show")},this.show=function(){t.classList.add("show")},this.hide=function(){t.classList.remove("show")},this.action=function(t){console.log(t)},function(){let n=this;return this.render(),this.el.addEventListener("DOMSubtreeModified",()=>{n._setActiveLink.call(n,n.activeLink)}),t=this.el.getElementsByClassName("dropdown-content")[0],e=this.el.getElementsByClassName("topnav-title")[0],this.el.getElementsByClassName("dropbtn")[0].addEventListener("click",()=>{this.toggle()}),window.addEventListener("click",()=>{this.hide()}),this.el.addEventListener("click",t=>{t.stopPropagation()}),this.el.getElementsByClassName("topnav")[0].addEventListener("click",function(t){if("A"===t.target.tagName&&t.target.classList.contains("link")){let e=n._findLink(t.target.hash);e&&(n.el.dispatchEvent(new CustomEvent("link-click",{detail:e})),n._setActiveLink.call(n,e))}if("A"===t.target.tagName&&t.target.classList.contains("action")){let e=function(t){let e=-1;return i.forEach((i,n)=>{if(i.name==t)return e=n}),e>=0?i[e]:null}(t.target.getAttribute("m-c"));e&&n.el.dispatchEvent(new CustomEvent("action-click",{detail:e})),n.toggle()}}),this}.call(this)}function w(){var t,e="sidenav";return d.call(this,function(){return'\n            <div class="sidenav">\n                <a class="closebtn" m-c="close">&times;</a>\n                <a class="link" m-f="{ \'items\': \'links\' }" href="item.path">{{ item.text }}</a>\n            </div>\n        '}),y.call(this),Object.defineProperty(this,"selector",{enumerable:!0,writable:!1,value:e}),Object.defineProperty(this,"activeClass",{enumerable:!0,get:function(){return"active"},set:void 0}),this.open=function(){t.classList.add("open")},this.close=function(){t.classList.remove("open")},function(){let i=this;return this.render(),this.el.addEventListener("DOMSubtreeModified",()=>{i._setActiveLink.call(i,i.activeLink)}),(t=this.el.getElementsByClassName(e)[0]).addEventListener("click",function(t){if("A"===t.target.tagName&&t.target.classList.contains("link")){let e=i._findLink(t.target.hash);e&&(i.el.dispatchEvent(new CustomEvent("link-click",{detail:e})),i._setActiveLink.call(i,e))}}),this}.call(this)}var _=null;function k(){if(null!==_)return _;var t,e,i,n,r;return d.call(this,function(){return"\n            <topbar></topbar>\n            <sidenav></sidenav>\n            <div id='main' class='container'>\n            </div>\n        "}),Object.defineProperty(this,"selector",{enumerable:!0,writable:!1,value:"main-view"}),Object.defineProperty(this,"components",{enumerable:!0,get:()=>t,set:void 0}),this.reboot=function(){confirm("Are you sure?")&&window.device.reboot()},_=function(){e=new g,i=new m,n=new b,r=new w;var s=[{path:"#home",text:"Home",component:e},{path:"#settings",text:"Settings",component:i}],o=[{text:"Reboot",name:"reboot",handler:this.reboot}];return n.setLinks(s),n.setActions(o),r.setLinks(s),r.activeLink=s[0],t=[e,i,n,r],n.el.addEventListener("open",r.open),n.el.addEventListener("link-click",r.close),r.el.addEventListener("link-click",r.close),window.addEventListener("hashchange",function(t){let e=window.location.hash;s.forEach(t=>{t.path===e&&(r.activeLink=t,n.activeLink=t,n.title=t.text,t.component.actions&&Array.isArray(t.component.actions)?n.updateActions(o.concat(t.component.actions)):n.updateActions(o))})}),n.el.addEventListener("action-click",n.hide),this.render(),s.forEach(t=>window.app.add(t.path.substr(1),t.component,"#main")),this}.call(this)}document.addEventListener("DOMContentLoaded",()=>{window.device=new r("/rpc"),window.app=new p("#app"),window.app.add("",k);let t=window.location.hash;window.location.hash="",window.router.check(),window.router.navigateTo(t||"#home")})}]);